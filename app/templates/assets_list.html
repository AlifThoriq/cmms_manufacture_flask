{% extends "base_layout.html" %}

{% block content %}
<h2 class="mb-4 border-start border-primary border-5 ps-3"><i class="fa fa-cogs me-2 text-primary"></i> Manajemen Aset Mesin</h2>

<div class="d-flex justify-content-end mb-3">
    <a href="{{ url_for('assets.add_asset') }}" class="btn btn-primary shadow-sm">
        <i class="fa fa-plus me-1"></i> Tambah Aset Baru
    </a>
</div>

<table>
    <thead>
        <tr>
            <th>Nama Aset</th>
            <th>Tipe</th>
            <th>Lokasi</th>
            <th>Status</th>
            <th class="text-center">Aksi</th>
        </tr>
    </thead>
    <tbody>
        {% for asset in assets %}
        <tr>
            <td><strong>{{ asset.asset_name }}</strong></td>
            <td>{{ asset.type }}</td>
            <td>{{ asset.location }}</td>
            <td>
                <!-- Badge Status Visual -->
                {% set status_class = {
                    'Active': 'bg-success',
                    'Under Maintenance': 'bg-danger',
                    'Offline': 'bg-secondary'
                }.get(asset.status, 'bg-info') %}
                <span class="badge {{ status_class }}">{{ asset.status }}</span>
            </td>
            <td class="text-center">
                <a href="{{ url_for('assets.detail_asset', asset_id=asset._id) }}" class="action-btn action-edit">
                    <i class="fa fa-search me-1"></i> Lihat Detail
                </a>
            </td>
        </tr>
        {% else %}
        <tr>
            <td colspan="5" class="text-center text-muted fst-italic py-3">Belum ada aset terdaftar. Silakan tambah aset baru.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
